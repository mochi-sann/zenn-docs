---
title: "neovim lsp ã§denolsã¨tsserverã‚’è‡ªå‹•ã§åˆ‡ã‚Šæ›¿ãˆã‚‹"
emoji: "ğŸ¦•"
type: "tech"
topics: ["neovim", "deno", "typescript"]
published: true
---

ã“ã‚“ã«ã¡ã¯ã€ã‚‚ã¡ã§ã™ã€‚æœ€è¿‘ deno ã‚’è§¦ã‚Šå§‹ã‚ãŸã®ã§ã™ãŒã€neovimlsp ã§è‡ªå‹•ã§ denols ã¨ tsserver ã‚’ã„ã„æ„Ÿã˜ã«æ–¹æ³•ã‚’èª¿ã¹ãŸã®ã§ã¾ã¨ã‚ã¾ã™ã€‚

# çµè«–

ã¾ãšã¯çµè«–ã‹ã‚‰ã€‚ã“ã‚Œã§å‹•ãã¾ã—ãŸã€‚

```nvim_cmp.lua:lua
lspconfig["denols"].setup({
  root_dir = lspconfig.util.root_pattern("deno.json"),
  init_options = {
    lint = true,
    unstable = true,
    suggest = {
      imports = {
        hosts = {
          ["https://deno.land"] = true,
          ["https://cdn.nest.land"] = true,
          ["https://crux.land"] = true,
        },
      },
    },
  },

})
lspconfig["tsserver"].setup({
  root_dir = lspconfig.util.root_pattern("package.json"),
})
```

åƒ•ã®ã‚³ãƒ¼ãƒ‰

https://github.com/mochi-sann/nvim/blob/fded4cf1031599ac990511b8217b25f37a229dde/lua/plugconfig/nvim_cmp.lua#L202-L222

# è§£èª¬

`root_dir = lspconfig.util.root_pattern("deno.json")` ã“ã®é–¢æ•°ã® `root_pattern()` ã®å¼•æ•°ã®éƒ¨åˆ†ã«ã‚ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹ã¨ãã‚Œãã‚Œã® LSP ãŒæœ‰åŠ¹ã«ãªã‚‹ã‚ˆã†ã§ã™ã€‚
denols ã§ã¯`deno.json`ã‚’ã€tsserver ã¯`package.json`ãŒã‚ã‚‹ã‹ã©ã†ã‹ã§èµ·å‹•ã™ã‚‹ã‚ˆã†ã«è¨­å®šã—ã¾ã—ãŸã€‚

# å‚è€ƒã«ã—ãŸã‚‚ã®

https://zenn.dev/kawarimidoll/articles/2b57745045b225

https://github.com/neovim/nvim-lspconfig/issues/320

https://github.com/neovim/nvim-lspconfig/blob/master/doc/lspconfig.txt#L334-L340
